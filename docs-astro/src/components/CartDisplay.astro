---
export interface Props {
  title?: string;
  minimal?: boolean;
}

const { title = "Cart Summary", minimal = false } = Astro.props;
---

<div class="bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 rounded-md p-4 my-4">
  <div class="flex justify-between items-center mb-3 pb-3 border-b border-zinc-100 dark:border-zinc-800">
    <h3 class="text-sm font-medium text-zinc-900 dark:text-zinc-100">{title}</h3>
    <span class="bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 px-2 py-0.5 rounded text-xs font-medium" data-next-display="cart.itemCount">0</span>
  </div>
  
  <div data-next-show="cart.hasItems">
    <div class="space-y-2 text-sm">
      <div class="flex justify-between text-zinc-600 dark:text-zinc-400">
        <span>Subtotal</span>
        <span data-next-display="cart.subtotal">$0.00</span>
      </div>
      
      <div class="flex justify-between text-zinc-600 dark:text-zinc-400" data-next-show="cart.hasDiscount">
        <span>Discount</span>
        <span class="text-green-600 dark:text-green-500" data-next-display="cart.discountAmount">-$0.00</span>
      </div>
      
      <div class="flex justify-between text-zinc-600 dark:text-zinc-400" data-next-show="cart.hasShipping">
        <span>Shipping</span>
        <span data-next-display="cart.shipping">$0.00</span>
      </div>
      
      <div class="flex justify-between font-medium text-zinc-900 dark:text-zinc-100 pt-2 border-t border-zinc-100 dark:border-zinc-800">
        <span>Total</span>
        <span data-next-display="cart.total">$0.00</span>
      </div>
    </div>
    
    {!minimal && (
      <div class="mt-4 space-y-2">
        <button class="w-full bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-4 rounded text-sm font-medium transition-colors" data-next-action="checkout">
          Checkout
        </button>
        <button class="w-full bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-700 dark:text-zinc-300 py-2 px-4 rounded text-sm transition-colors" data-next-action="clear-cart">
          Clear
        </button>
      </div>
    )}
  </div>
  
  <div data-next-show="cart.isEmpty" class="text-center py-8">
    <p class="text-sm text-zinc-500 dark:text-zinc-400">Cart is empty</p>
    <p class="text-xs text-zinc-400 dark:text-zinc-500 mt-1">Select products above</p>
  </div>
</div>